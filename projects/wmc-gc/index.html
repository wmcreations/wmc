<!DOCTYPE html>
<html>

<head>
  <title>Card Game - Grand Celestials</title>
  <meta charset="utf-8">
  <meta name="application-name" content="Card Game - Grand Celestials">
  <meta name="publisher" content="Walandio Martian Creation">
  <meta name="author" content="Walandio Martian Creation">
  <meta name="format-detection" content="HTML5">

  <link rel="stylesheet" href="../../sdk/wmc.css">
  <!--<link rel="stylesheet" href="css/wmcAnimat.css">-->

</head>
<body>

  <main wmc class="game-wrapper" data-wmc-template="on">

    <menu wmc class="wmc-menu" data-wmc-label="display" data-wmc-type="menu">
      {{define:true}}
    </menu>

    <section wmc class="wmc-game-display" data-wmc-label='display' data-wmc-type="start-game">
      {{define:true}}
    </section>

    <section wmc class="wmc-login" data-wmc-label="form" data-wmc-type="login">
      {{define:true}}
    </section>

  </main>

  <div id="server-status"></div>
  <div id="server-response"></div>
  <div id="server-data"></div>


  <object data="data/game.json" type="text/JSON" style="background-color: transparent; width: 100%; height: 600px;"></object>

  <!--<canvas id="canvas" width="100%" height="100%"></canvas>-->
  <script src="../../sdk/wmc.js" type="text/javascript"></script>
  <script type="text/javascript">

  // This is the Client's Side of Customizing SDK
  //
  //
  (function(WMC, define){

    // Listener
    var wmcForm;

    // Setup functions
    init = {};
    var funcs = [
      'login',
      // 'server',
      'start',
      'load',
      'template'
    ];

    // Open WMCjs permission and call functions to be exposed and available to use
    WMCjs('open').defineFn(funcs).config('demo', true);

    // Start Customizing Here
    var usr = 'testUser',
        pwd = 'testPassword';

    var userlogin = login(usr, pwd);
    start('hello', function(usr, pwd){

      console.debug('Hello ' + userlogin.usr + '!! >>>>>>>>>>>>>>>>', userlogin.usr);
      console.debug('User password:', userlogin.pwd)
      alert("Username: "+userlogin.usr+"\nPassword: " + userlogin.pwd);

      return;
    })

    var data, loc, host, hostname, prot, port, path, url, data, json;

    data = {
      id: 1,
      first: "",
      last: "",
      key: ""
    }

    if('location' in window){
        loc = location,
        host = loc.host,
        hostname = loc.hostname,
        prot = loc.protocol,
        port = loc.port,
        path = loc.pathname,
        json = "data/game.json",
        url = host,
        ws = url;
        console.log(ws);
    }

    // connect(data, ws);
    // server('eden');
    load(['template','screen','deck','hero']);

    // Custom Game Demo
    // demo.project('blocks').init();

  })( (window.self == window.parent) ? parent : self, document);
  </script>
  <script src="wmc-start.js" type="text/javascript"></script>
</body>
</html>